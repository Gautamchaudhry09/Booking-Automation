<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Form Data Collection</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
            width: 100%;
        }
        .btn:hover {
            background: #45a049;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #e9ecef;
        }
        .result h3 {
            margin-top: 0;
            color: #333;
        }
        .field-result {
            margin: 5px 0;
            padding: 5px;
            background: white;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2>Test Form Data Collection</h2>
        <p>This simulates the booking form to test if data is collected correctly.</p>
        
        <form id="bookingForm">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" value="testuser" required>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" value="testpass123" required>
            </div>

            <div class="form-group">
                <label for="date">Date</label>
                <input type="date" id="date" name="date" value="2024-01-15" required>
            </div>

            <div class="form-group">
                <label for="courtNumber">Court Number</label>
                <select id="courtNumber" name="courtNumber" required>
                    <option value="">Select Court</option>
                    <option value="1" selected>Court 1</option>
                    <option value="2">Court 2</option>
                    <option value="3">Court 3</option>
                </select>
            </div>

            <div class="form-group">
                <label for="timeSlot">Time Slot</label>
                <select id="timeSlot" name="timeSlot" required>
                    <option value="19" selected>6:40 - 7:20</option>
                    <option value="20">7:20 - 8:00</option>
                    <option value="21">8:00 - 8:40</option>
                </select>
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" id="useChromeProfile" name="useChromeProfile" checked>
                    Use Chrome profile data
                </label>
            </div>

            <button type="button" class="btn" onclick="testFormData()">Test Form Data Collection</button>
        </form>

        <div id="result" class="result" style="display: none;">
            <h3>Form Data Results:</h3>
            <div id="resultContent"></div>
        </div>
    </div>

    <script>
        function testFormData() {
            const formData = new FormData(document.getElementById('bookingForm'));
            const data = {
                username: formData.get('username'),
                password: formData.get('password'),
                date: formData.get('date'),
                courtNumber: formData.get('courtNumber'),
                timeSlot: formData.get('timeSlot'),
                useChromeProfile: formData.get('useChromeProfile') === 'on'
            };

            console.log('Form data collected:', data);

            // Display results
            const resultDiv = document.getElementById('result');
            const resultContent = document.getElementById('resultContent');
            
            resultContent.innerHTML = `
                <div class="field-result"><strong>Username:</strong> ${data.username || '[MISSING]'}</div>
                <div class="field-result"><strong>Password:</strong> ${data.password ? '[PROVIDED]' : '[MISSING]'}</div>
                <div class="field-result"><strong>Date:</strong> ${data.date || '[MISSING]'}</div>
                <div class="field-result"><strong>Court Number:</strong> ${data.courtNumber || '[MISSING]'}</div>
                <div class="field-result"><strong>Time Slot:</strong> ${data.timeSlot || '[MISSING]'}</div>
                <div class="field-result"><strong>Use Chrome Profile:</strong> ${data.useChromeProfile}</div>
            `;
            
            resultDiv.style.display = 'block';

            // Check if all required fields are present
            const missingFields = [];
            if (!data.username) missingFields.push('username');
            if (!data.password) missingFields.push('password');
            if (!data.date) missingFields.push('date');
            if (!data.courtNumber) missingFields.push('courtNumber');
            if (!data.timeSlot) missingFields.push('timeSlot');

            if (missingFields.length > 0) {
                resultContent.innerHTML += `<div class="field-result" style="background: #ffebee; color: #d32f2f;"><strong>Missing Fields:</strong> ${missingFields.join(', ')}</div>`;
            } else {
                resultContent.innerHTML += `<div class="field-result" style="background: #e8f5e8; color: #388e3c;"><strong>âœ… All fields collected successfully!</strong></div>`;
            }
        }
    </script>
</body>
</html>
